tonight i tried to kill myself

Probably should start from the beginning. For the past 2 years I've been slipping into a depression, no idea why because my life was great. I had friends, family and then a year in I met an amazing girl. But things never got better for me. I never really had any support except for my girlfriend because she went through depression so could help me, although I never told her. I just felt like everything I did was pointless and wouldn't matter in the end, but I was too afraid of death at the time. After moving to uni it got progressively worse with dealing with the new workload and no family and a long distance relationship. I kept pushing her away by being aggressive and never having time for her and I never knew why, and then recently she ended it with me. And I have no friends here, no one for support. I sat in my room and cried, something I haven't done for many years. I went out for a walk to clear my head and so I wasn't alone in my room anymore. And I just kept thinking that my life was worthless and now had no happy future ahead. So I stood by the side of the road and waited, and then when the next speeding car came past I stepped out in front and waited to get hit. I don't know whether I stepped out too early from bad timing or because I was afraid but it managed to swerve and miss me, which is when I came back here. I have no one now, and I'm turning to here for advice first. Please help me.