Had an awful week and I don't feel like I'll ever be happy again

My friend tried to kill herself on this week, and I drove her to the hospital. I just can't stop thinking about her crying and telling me what she did, and sitting in the waiting room, and the way her mom sobbed the whole day. Everything keeps playing through my head over and over and I feel terrible. I used to think about killing myself and then the feelings gradually went away after a change in my life but now they're back and I think about it a lot. It seems weird after what happened but I just can't stop wanting to wrap my car around a tree or something. I feel like all the happiness has been sucked out of my life and honestly I just feel a little crazy. I hate myself and my life and I'm miserable and I don't know what to do, I almost talked to someone about it that I know could help me today but then I chickened out and didn't. I just want to stop feeling like this.