Thinking about making that final decision for awhile now

Don't really know where to begin. A little outside of my comfort zone. But I've seen the good that getting things off your chest can do for a person so here goes.

I'm 27. I have 3 kids and a beautiful wife. over the last year or so everything's just started to go to Shit. I was in the army for just under 6 years and I got seperated for taking popping hot on a piss test for a prescription that wasn't mine. I have degenerative disc disease and nerve damage in my leg from breaking it in service. I was on my own prescription of vicodin but I had ran out and my buddy gave me a percocet. I thought why not they're pretty much the same thing. Oh how wrong I was.  I became addicted to pills from my back and leg injuries and became emotionally and chemically dependant on them.  Eventually I got off the vicodin. But not before I was kicked out of the army with a general discharge. I made the mistake of thinking I could control an addiction that was way out of my hands. I became violent and moody when I came down off the pills. And I was a zombie and always secluded myself when I was on them. I recently got on extended release morphine and even that was too hard to keep a hold of.  I've been clean now for a few months since labor day weekend when I decided it would be a good idea to ween myself off them. By ween I mean I dumped the pills and flushed the toilet.  Not my smartest move and and the resulting withdraws almost cause me to just end it that weekend.  I flunked out of college when I went to school because It became too stressful and instead of working harder and buckling down I decided to ignore the problem until it was too late to fix.  That was my wife's final straw and she told me she wanted a divorce and we've been seperated/on a break ever since then.  End of august timeframe. 
I finally started a new job for a company contracted through the union pacific railroad. It pays the bills.  For the last few months though everything's just been weighing down on me.  My ptsd anxiety and depression were out of control and for quite a while I just wanted to grab my .40 and end the pain I was feeling.
I don't know what i expect to get out of telling a bunch of strangers my problems but it just seems like I'm in a hole I can't climb out of. Me and the wife are like a roller coaster good days and bad. Still on a break. It's hard to find a reason to get out of bed and yes I know I have 3 kids and that should be reason enough but I just can't fight this feeling I've been battling with for so long.  I can't remember what it was like to be truly happy.  I have roughly 12k in debt and my VA claim is taking forever to process and it just seems like there's no light at the end of the tunnel. 
I'll update later when I can think of more to say. For now kind of gives whoever reads this an understanding I hope of where my minds at?  
Thank you for your time.